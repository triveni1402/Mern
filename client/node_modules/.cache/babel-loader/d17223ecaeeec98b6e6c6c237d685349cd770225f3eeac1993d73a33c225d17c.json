{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{useCookies}from\"react-cookie\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useCookies=useCookies([\"access_token\"]),_useCookies2=_slicedToArray(_useCookies,2),_=_useCookies2[0],setCookies=_useCookies2[1];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loginSuccess=_useState6[0],setLoginSuccess=_useState6[1];// State to track login success\nvar navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"http://localhost:3001/auth/login\",{username:username,password:password});case 4:result=_context.sent;setCookies(\"access_token\",result.data.token);window.localStorage.setItem(\"userID\",result.data.userID);setLoginSuccess(true);// Set login success state to true\nsetTimeout(function(){return navigate(\"/\");},2000);// Redirect to home after 2 seconds\n_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);alert(\"Invalid user details\");console.error(_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var formContainerStyle={maxWidth:'400px',margin:'0 auto',padding:'20px',border:'1px solid #ccc',borderRadius:'8px',backgroundColor:'#f0f8ea',// Light green background\nmarginTop:'180px'};var formTitleStyle={textAlign:'center',color:'#4caf50'// Green text color\n};var inputStyle={width:'100%',padding:'8px',fontSize:'16px',border:'1px solid #ddd',borderRadius:'4px',boxSizing:'border-box',marginBottom:'15px'};var buttonStyle={display:'block',width:'100%',padding:'10px',fontSize:'18px',color:'#fff',backgroundColor:'#4caf50',// Green button background\nborder:'none',borderRadius:'4px',cursor:'pointer'};var buttonHoverStyle={backgroundColor:'#45a049'// Darker green on hover\n};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",style:formContainerStyle,children:loginSuccess?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',color:'#4caf50'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login Successful!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Redirecting to home page...\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{style:formTitleStyle,children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",style:{color:'#4caf50'},children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:function onChange(event){return setUsername(event.target.value);},style:inputStyle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",style:{color:'#4caf50'},children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);},style:inputStyle})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:buttonStyle,onMouseOver:function onMouseOver(e){return e.target.style.backgroundColor=buttonHoverStyle.backgroundColor;},onMouseOut:function onMouseOut(e){return e.target.style.backgroundColor=buttonStyle.backgroundColor;},children:\"Login\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","axios","useCookies","useNavigate","Login","_","setCookies","username","setUsername","password","setPassword","loginSuccess","setLoginSuccess","navigate","handleSubmit","event","preventDefault","post","result","data","token","window","localStorage","setItem","userID","setTimeout","alert","console","error","formContainerStyle","maxWidth","margin","padding","border","borderRadius","backgroundColor","marginTop","formTitleStyle","textAlign","color","inputStyle","width","fontSize","boxSizing","marginBottom","buttonStyle","display","cursor","buttonHoverStyle","target","value","e","style"],"sources":["/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const Login = () => {\n  const [_, setCookies] = useCookies([\"access_token\"]);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginSuccess, setLoginSuccess] = useState(false); // State to track login success\n  const navigate = useNavigate();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const result = await axios.post(\"http://localhost:3001/auth/login\", {\n        username,\n        password,\n      });\n\n      setCookies(\"access_token\", result.data.token);\n      window.localStorage.setItem(\"userID\", result.data.userID);\n\n      setLoginSuccess(true); // Set login success state to true\n      setTimeout(() => navigate(\"/\"), 2000); // Redirect to home after 2 seconds\n    } catch (error) {\n      alert(\"Invalid user details\");\n      console.error(error);\n    }\n  };\n\n  const formContainerStyle = {\n    maxWidth: '400px',\n    margin: '0 auto',\n    padding: '20px',\n    border: '1px solid #ccc',\n    borderRadius: '8px',\n    backgroundColor: '#f0f8ea', // Light green background\n    marginTop: '180px',\n  };\n\n  const formTitleStyle = {\n    textAlign: 'center',\n    color: '#4caf50', // Green text color\n  };\n\n  const inputStyle = {\n    width: '100%',\n    padding: '8px',\n    fontSize: '16px',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    boxSizing: 'border-box',\n    marginBottom: '15px',\n  };\n\n  const buttonStyle = {\n    display: 'block',\n    width: '100%',\n    padding: '10px',\n    fontSize: '18px',\n    color: '#fff',\n    backgroundColor: '#4caf50', // Green button background\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n  };\n\n  const buttonHoverStyle = {\n    backgroundColor: '#45a049', // Darker green on hover\n  };\n\n  return (\n    <div className=\"auth-container\" style={formContainerStyle}>\n      {loginSuccess ? (\n        <div style={{ textAlign: 'center', color: '#4caf50' }}>\n          <h2>Login Successful!</h2>\n          <p>Redirecting to home page...</p>\n        </div>\n      ) : (\n        <form onSubmit={handleSubmit}>\n          <h2 style={formTitleStyle}>Login</h2>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\" style={{ color: '#4caf50' }}>Username:</label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={(event) => setUsername(event.target.value)}\n              style={inputStyle}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\" style={{ color: '#4caf50' }}>Password:</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(event) => setPassword(event.target.value)}\n              style={inputStyle}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            style={buttonStyle}\n            onMouseOver={(e) => e.target.style.backgroundColor = buttonHoverStyle.backgroundColor}\n            onMouseOut={(e) => e.target.style.backgroundColor = buttonStyle.backgroundColor}\n          >\n            Login\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"uhBAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CACzB,gBAAwBF,UAAU,CAAC,CAAC,cAAc,CAAC,CAAC,4CAA7CG,CAAC,iBAAEC,UAAU,iBACpB,cAAgCN,QAAQ,CAAC,EAAE,CAAC,wCAArCO,QAAQ,eAAEC,WAAW,eAC5B,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAAwCV,QAAQ,CAAC,KAAK,CAAC,yCAAhDW,YAAY,eAAEC,eAAe,eAAqB;AACzD,GAAMC,SAAQ,CAAGV,WAAW,EAAE,CAE9B,GAAMW,aAAY,4FAAG,iBAAOC,KAAK,8HAC/BA,KAAK,CAACC,cAAc,EAAE,CAAC,sCAGAf,MAAK,CAACgB,IAAI,CAAC,kCAAkC,CAAE,CAClEV,QAAQ,CAARA,QAAQ,CACRE,QAAQ,CAARA,QACF,CAAC,CAAC,QAHIS,MAAM,eAKZZ,UAAU,CAAC,cAAc,CAAEY,MAAM,CAACC,IAAI,CAACC,KAAK,CAAC,CAC7CC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAEL,MAAM,CAACC,IAAI,CAACK,MAAM,CAAC,CAEzDZ,eAAe,CAAC,IAAI,CAAC,CAAE;AACvBa,UAAU,CAAC,iBAAMZ,SAAQ,CAAC,GAAG,CAAC,GAAE,IAAI,CAAC,CAAE;AAAA,iFAEvCa,KAAK,CAAC,sBAAsB,CAAC,CAC7BC,OAAO,CAACC,KAAK,aAAO,CAAC,oEAExB,kBAlBKd,aAAY,4CAkBjB,CAED,GAAMe,mBAAkB,CAAG,CACzBC,QAAQ,CAAE,OAAO,CACjBC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,MAAM,CACfC,MAAM,CAAE,gBAAgB,CACxBC,YAAY,CAAE,KAAK,CACnBC,eAAe,CAAE,SAAS,CAAE;AAC5BC,SAAS,CAAE,OACb,CAAC,CAED,GAAMC,eAAc,CAAG,CACrBC,SAAS,CAAE,QAAQ,CACnBC,KAAK,CAAE,SAAW;AACpB,CAAC,CAED,GAAMC,WAAU,CAAG,CACjBC,KAAK,CAAE,MAAM,CACbT,OAAO,CAAE,KAAK,CACdU,QAAQ,CAAE,MAAM,CAChBT,MAAM,CAAE,gBAAgB,CACxBC,YAAY,CAAE,KAAK,CACnBS,SAAS,CAAE,YAAY,CACvBC,YAAY,CAAE,MAChB,CAAC,CAED,GAAMC,YAAW,CAAG,CAClBC,OAAO,CAAE,OAAO,CAChBL,KAAK,CAAE,MAAM,CACbT,OAAO,CAAE,MAAM,CACfU,QAAQ,CAAE,MAAM,CAChBH,KAAK,CAAE,MAAM,CACbJ,eAAe,CAAE,SAAS,CAAE;AAC5BF,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBa,MAAM,CAAE,SACV,CAAC,CAED,GAAMC,iBAAgB,CAAG,CACvBb,eAAe,CAAE,SAAW;AAC9B,CAAC,CAED,mBACE,YAAK,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAEN,kBAAmB,UACvDlB,YAAY,cACX,aAAK,KAAK,CAAE,CAAE2B,SAAS,CAAE,QAAQ,CAAEC,KAAK,CAAE,SAAU,CAAE,wBACpD,oBAAI,mBAAiB,EAAK,cAC1B,mBAAG,6BAA2B,EAAI,GAC9B,cAEN,cAAM,QAAQ,CAAEzB,YAAa,wBAC3B,WAAI,KAAK,CAAEuB,cAAe,UAAC,OAAK,EAAK,cACrC,aAAK,SAAS,CAAC,YAAY,wBACzB,cAAO,OAAO,CAAC,UAAU,CAAC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,UAAC,WAAS,EAAQ,cACxE,cACE,IAAI,CAAC,MAAM,CACX,EAAE,CAAC,UAAU,CACb,KAAK,CAAEhC,QAAS,CAChB,QAAQ,CAAE,kBAACQ,KAAK,QAAKP,YAAW,CAACO,KAAK,CAACkC,MAAM,CAACC,KAAK,CAAC,EAAC,CACrD,KAAK,CAAEV,UAAW,EAClB,GACE,cACN,aAAK,SAAS,CAAC,YAAY,wBACzB,cAAO,OAAO,CAAC,UAAU,CAAC,KAAK,CAAE,CAAED,KAAK,CAAE,SAAU,CAAE,UAAC,WAAS,EAAQ,cACxE,cACE,IAAI,CAAC,UAAU,CACf,EAAE,CAAC,UAAU,CACb,KAAK,CAAE9B,QAAS,CAChB,QAAQ,CAAE,kBAACM,KAAK,QAAKL,YAAW,CAACK,KAAK,CAACkC,MAAM,CAACC,KAAK,CAAC,EAAC,CACrD,KAAK,CAAEV,UAAW,EAClB,GACE,cACN,eACE,IAAI,CAAC,QAAQ,CACb,KAAK,CAAEK,WAAY,CACnB,WAAW,CAAE,qBAACM,CAAC,QAAKA,EAAC,CAACF,MAAM,CAACG,KAAK,CAACjB,eAAe,CAAGa,gBAAgB,CAACb,eAAe,EAAC,CACtF,UAAU,CAAE,oBAACgB,CAAC,QAAKA,EAAC,CAACF,MAAM,CAACG,KAAK,CAACjB,eAAe,CAAGU,WAAW,CAACV,eAAe,EAAC,UACjF,OAED,EAAS,GAEZ,EACG,CAEV,CAAC,CAED,cAAe/B,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}