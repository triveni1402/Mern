{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useGetUserID}from\"../hooks/useGetUserID\";import{useNavigate}from\"react-router-dom\";import{useCookies}from\"react-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CreateRecipe=function CreateRecipe(){var userID=useGetUserID();var _useCookies=useCookies([\"access_token\"]),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],_=_useCookies2[1];var _useState=useState({name:\"\",description:\"\",ingredients:[],instructions:\"\",imageUrl:\"\",cookingTime:0,userOwner:userID}),_useState2=_slicedToArray(_useState,2),recipe=_useState2[0],setRecipe=_useState2[1];var navigate=useNavigate();useEffect(function(){if(!cookies.access_token){navigate(\"/login\");}},[]);var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setRecipe(_objectSpread(_objectSpread({},recipe),{},_defineProperty({},name,value)));};var handleIngredientChange=function handleIngredientChange(event,index){var value=event.target.value;var ingredients=_toConsumableArray(recipe.ingredients);ingredients[index]=value;setRecipe(_objectSpread(_objectSpread({},recipe),{},{ingredients:ingredients}));};var handleAddIngredient=function handleAddIngredient(){var ingredients=[].concat(_toConsumableArray(recipe.ingredients),[\"\"]);setRecipe(_objectSpread(_objectSpread({},recipe),{},{ingredients:ingredients}));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"http://localhost:3001/recipes\",_objectSpread({},recipe),{headers:{authorization:cookies.access_token}});case 4:alert(\"Recipe Created\");navigate(\"/\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"create-recipe\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:recipe.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ingredients\",children:\"Ingredients\"}),recipe.ingredients.map(function(ingredient,index){return/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ingredients\",value:ingredient,onChange:function onChange(event){return handleIngredientChange(event,index);}},index);}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddIngredient,children:\"Add Ingredient\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"instructions\",children:\"Instructions\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"instructions\",name:\"instructions\",value:recipe.instructions,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"imageUrl\",children:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"imageUrl\",name:\"imageUrl\",value:recipe.imageUrl,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cookingTime\",children:\"Cooking Time (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"cookingTime\",name:\"cookingTime\",value:recipe.cookingTime,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Recipe\"})]})]});};","map":{"version":3,"names":["React","useState","useEffect","axios","useGetUserID","useNavigate","useCookies","CreateRecipe","userID","cookies","_","name","description","ingredients","instructions","imageUrl","cookingTime","userOwner","recipe","setRecipe","navigate","access_token","handleChange","event","target","value","handleIngredientChange","index","handleAddIngredient","handleSubmit","preventDefault","post","headers","authorization","alert","console","error","map","ingredient"],"sources":["/Users/tadapanenitriveni/Downloads/MERN-Recipe-App-main 2/MERN-Recipe-App-main 2/client/src/pages/create-recipe.js"],"sourcesContent":["import React, { useState ,useEffect} from \"react\";\nimport axios from \"axios\";\nimport { useGetUserID } from \"../hooks/useGetUserID\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCookies } from \"react-cookie\";\n\nexport const CreateRecipe = () => {\n  const userID = useGetUserID();\n  const [cookies, _] = useCookies([\"access_token\"]);\n  const [recipe, setRecipe] = useState({\n    name: \"\",\n    description: \"\",\n    ingredients: [],\n    instructions: \"\",\n    imageUrl: \"\",\n    cookingTime: 0,\n    userOwner: userID,\n  });\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!cookies.access_token) {\n      navigate(\"/login\");\n    }\n  }, [])\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setRecipe({ ...recipe, [name]: value });\n  };\n\n  const handleIngredientChange = (event, index) => {\n    const { value } = event.target;\n    const ingredients = [...recipe.ingredients];\n    ingredients[index] = value;\n    setRecipe({ ...recipe, ingredients });\n  };\n\n  const handleAddIngredient = () => {\n    const ingredients = [...recipe.ingredients, \"\"];\n    setRecipe({ ...recipe, ingredients });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axios.post(\n        \"http://localhost:3001/recipes\",\n        { ...recipe },\n        {\n          headers: { authorization: cookies.access_token },\n        }\n      );\n\n      alert(\"Recipe Created\");\n      navigate(\"/\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"create-recipe\">\n      <h2>Create Recipe</h2>\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"name\">Name</label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          value={recipe.name}\n          onChange={handleChange}\n        />\n       \n        <label htmlFor=\"ingredients\">Ingredients</label>\n        {recipe.ingredients.map((ingredient, index) => (\n          <input\n            key={index}\n            type=\"text\"\n            name=\"ingredients\"\n            value={ingredient}\n            onChange={(event) => handleIngredientChange(event, index)}\n          />\n        ))}\n        <button type=\"button\" onClick={handleAddIngredient}>\n          Add Ingredient\n        </button>\n        <label htmlFor=\"instructions\">Instructions</label>\n        <textarea\n          id=\"instructions\"\n          name=\"instructions\"\n          value={recipe.instructions}\n          onChange={handleChange}\n        ></textarea>\n        <label htmlFor=\"imageUrl\">Image URL</label>\n        <input\n          type=\"text\"\n          id=\"imageUrl\"\n          name=\"imageUrl\"\n          value={recipe.imageUrl}\n          onChange={handleChange}\n        />\n        <label htmlFor=\"cookingTime\">Cooking Time (minutes)</label>\n        <input\n          type=\"number\"\n          id=\"cookingTime\"\n          name=\"cookingTime\"\n          value={recipe.cookingTime}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Create Recipe</button>\n      </form>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}